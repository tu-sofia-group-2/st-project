
## Софтуерни Технологии проект 

**Node.js version: 16.18.1 !!!**

**Check node version:**



* **node -v**
* **nvm  install 16.18.1**
* **nvm  use 16.18.1**

**https://github.com/coreybutler/nvm-windows#installation--upgrades**

**Install nvm if version is higher and change it to 16.18.1**

**Start web : npm run web**

**Start android: npm run android**

**Start iOS: npm run ios**

**Start storybook: npm run storybook**

**Синтез на основната идея:**

    Приложение което да обединява на едно място функционалностите на УИСС, е-заверка, седмичния разпис и идентификационната роля на студентската книжка.

   Това ще е мобилно приложение чрез което студентите могат да се информират за дейности в университетска среда.

   Target audience за проекта са студенти и университети.

   Целта на приложението е да предостави на студенти и преподаватели обединена система за:



* Въвеждане на оценки
* Въвеждане на заверки
* Проверка на заверки
* Проверка на оценки
* Проверка на седмичен разпис
* Проверка на информация за определена дисциплина:
    * Информация за преподавателите
    * Имейл, име, други форми за контакт
    * Информация за дисциплината
    * Име, код, събития, преподаватели, направление, описание и подобни
    * Информация за въведените заверки и оценки + какви заверки има и каква е формата на контрол (изпит, текуща оценка)
* Преподавателите ще могат да въвеждат оценки по дисциплини

NB : Очаквана е възможна интеграция със вече съществуващите системи за заверки и оценки

В зависимост от предоставените APIта от UISS и e-zaverka могат да се създадат Cron Job-ове или Batch Job операции които да синхронизират базите n на брой пъти дневно, или може да се създадат endpoint-и които външните системи да извикват при промяна в тяхната база 

**Required features (_идеите се трупат тук)_: **



* Графично представяне на информацията съдържаща се на първата страница на студентската книжка и студентски статус (например: заплатил такса за 5ти семестър)
* Таблица с дисциплините по година/семестър/степен и специалност
* Таблица  взетите заверки и оценки по дисциплини
* Начин за проследяване на информацията за определена дисциплина (преподаватели, условия, задания, контакти, график по седмици…)
* Начин за проследяване на известия от преподаватели (крайни срокове за предаване на задания, контролни, съобщения)
* Седмичен разпис за всяка седмица 

(Всяка една от точките може да бъде разбита на подточки, ако идеята спада към контекста на точката, или като нова точка, ако не спада към контекста на сегашната точка)

**MoSCoW evaluation (Must have green, Should have yellow, Could have orange, Won't have red):**



* User details page

**Technical tasks by feature point/sub-point/sub-sub-point..:**

**Software architecture //TODO**



* Database schema - Generated by Spring from entities and entity mappings:

    https://www.baeldung.com/spring-data-jpa-generate-db-schema

* Backend
    * Entities 
    * Getter and Setters
        * Use https://projectlombok.org/
    * Shiro Auth
        * https://shiro.apache.org/java-authentication-guide.html
    * JPA Repositories
        * https://docs.spring.io/spring-data/jpa/docs/current/reference/html/
    * Boilerplate Service methods
        * https://spring.io/guides/tutorials/rest/
    * Restful API Endpoints 
        * https://restfulapi.net/resource-naming/
* Frontend 
    * React Native / React.js
    * SWR
    * UI dependant libraries
    * Storybook
* Testing
    * JUnit
    * Mockito 

**<span style="text-decoration:underline;">BACKEND : </span>**

Backend should be divided into three layers:



* Service Layer
    * Layer that encompasses the restful endpoints of the app 
    * Main Concerns for this layer:
        * Data should be validated and cleaned up upon entry
        * Endpoints should be guarded behind permission annotations (look up shiro auth)
        * Layer must NOT return persistence entities 
* Business Layer
    * Layer should provide the business logic of the app
    * Layer must remap all entities coming from the data Layer to POJOs
    * Layer should reformat data to fit either the data layers inputs, or the expected outputs for the service layer
* Data Layer
    * Consists of persistence entities and JPA repositories 
    * Must use prepared statements for nonstandard or unsupported by JPA queries (reduces the risk of SQL injections significantly)

**<span style="text-decoration:underline;">ENTITIES / DATA LAYER</span>**

**User:**



* **id - long**
* **facultyId - long**
* **firstName - String**
* **lastName - String **
* **middleName - String **
* **gender - int // Needed to be bool**
* **programmes - List&lt;UserProgramme> //can be null if only teacher**
* **contacts - List&lt;Contact>**
* **role - Role**

**Role:**



* **id - long**
* **name - String**
* **permissions - List&lt;String>**

**UserProgramme:**



* **id - long**
* **user - User**
* **programme - Programme**
* **state - UserProgrammeStateEnum**
* **semester - int**
* **minor - boolean // as an additional co-programme**
* **startedOn - YearSemesterTouple**
* **startedFrom - int //from which semester**

**// User might have switched programmes, and/or moved from other universities and continues their studies in this uni**

**YearSemesterTouple:**



* **year - int**
* **semester - int**

**UserProgrammeStateEnum:**



* **IN_PROGRESS**
* **GRADUATED**
* **DROPPED_OUT**
* **UNKNOWN**

**DegreeEnum:**



* **BACHELORS**
* **MASTERS**
* **PHD**
* **NONE**

**Programme:**



* **id - long // programme id **
* **name - String**
* **description - String**
* **semester - int**
* **faculty - Faculty**
* **degree - DegreeEnum **
* **duration - int // in semesters**
* **extensionOf - Programme // could be null**
* **userProgrammes - List&lt;UserProgramme>**
* **courses - List&lt;Course>**

**// Programme could be a:**



* **//Standard Programme **
* **//Custom Programme as an extension of a Standard programme**

**Course:**



* **id - long**
* **courseId - long**
* **name - String**
* **description - String**
* **programme - Programme**
* **semester - int**
* **users - List&lt;UserCourse>**
* **messages - List&lt;Message>**
* **formOfControl - List&lt;CertificationEnum>**
* **project - Project //can be null**

**CertificationUser**



* **id - long**
* **course - Course**
* **user - User**
* **type - CertificationEnum**
* **taken - boolean **

**CertificationEnum:**



* **LECTURES**
* **SEMINARS**
* **LABS**
* **COURSE_WORK**

**Project:**



* **id - long**
* **course - Course**
* **users - List&lt;UserProject>**

**UserProject:**



* **id - long **
* **project - Project**
* **user - User**

**UserCourse:**



* **user - User**
* **course - Course**
* **courseRole - CourseRoleEnum**
* **year - int // astronomical year**
* **certifications - List&lt;CertificationUser> **

**CourseRoleEnum:**



* **LECTURER **
* **ASSISTANT**
* **STUDENT**
* **TEACHER**
* **GUEST_TEACHER**

**Message:**



* **id - long**
* **postedBy - User**
* **body - String**
* **postedOn - Date**

**Faculty**



* **id **
* **Name**
* **Description**
* **contacts - List&lt;Contact> **

**Contact **



* **id - long**
* **type - ContactTypeEnum**
* **body - String**

**ContactTypeEnum**



* **EMAIL**
* **PHONE_NUMBER**
* **DISCORD**
* **SKYPE**
* **TEAMS**
* **FAX // i dunno man**
* **CARRIER_PIDGEON // his name is Bob**
* **LINKEDIN**
* **…**

**_<span style="text-decoration:underline;">ERD :</span>_**

**     //TODO**

**<span style="text-decoration:underline;">REPOSITORIES </span>**



* **For all entities except Enums **
* **Should feature methods that filter DB entries via the filters in the service layer**
    * **User can either be taken with Id **
    * **Users can be filtered by the facultyId (факултетен номер)**
    * **Users can be filtered by the programme they are studying in**
    * **Users can be filtered by the course they are taking**
    * **….**
        * **This provides scalability so if any either fields in the entity get changed, added, removed, new filters get added or removed, and so on, it's is a simple vertical process of adding / removing / modifying boilerplate standard methods **

**<span style="text-decoration:underline;">LOGIC / BUSINESS LAYER:</span>**



* **Standard get and save service methods that mirror the ones from the JPA repositories, by remap entities to POJOs **
* **Also, cleanup of query data if needed and exception checks **

**<span style="text-decoration:underline;">ENDPOINTS / CONTROLLERS / SERVICE LAYER</span>**

**<span style="text-decoration:underline;">POST - modify entity</span>**

**<span style="text-decoration:underline;">PUT - create new</span>**

**<span style="text-decoration:underline;">GET - get entity</span>**

**<span style="text-decoration:underline;">DELETE - remove</span>**



* **api/v1/users/current**
* **PUT api/v1/users**
    * **User:**
        * **… //**
* **POST api/v1/users**
    * **User:**
        * **… //**
* **api/v1/users/{userId} // GET**
* **api/v1/users **
    * **userFilters:**
        * **facultyId - optional**
        * **programmeId - optional**
        * **courseId - optional**
* **api/v1/programmes/{programmeId} // GET / Sprint1**
* **api/v1/programmes**
    * **programmeFilters**
        * **facultyId**
        * **degree**
        * **semester**
* **api/v1/courses/{courseId} // GET **
* **api/V1/courses **
    * **courseFilters**
        * **courseId **
        * **faculty**

** … For all entities and their fields **

**<span style="text-decoration:underline;">FRONTEND:</span>**



* **<span style="text-decoration:underline;">PAGES:</span>**
    * **<span style="text-decoration:underline;">LOGIN PAGE</span>**
    * **<span style="text-decoration:underline;">MY PROFILE </span>**
    * **<span style="text-decoration:underline;">MY COURSES</span>**
        * **Includes a table of courses, form of control**
        * **When clicked on a course, open a popup from the bottom that shows course details **
* **Standard components:**
    * **Button**
    * **InfoBar**
    * **Carousell**
    * **Card **
    * **Form**
    * **Menu**

**Sprints :**

**Sprint one : Basic reusable components**

**Basic load, save and update services and repositories by is**

**Implement entities and generate database schema**

**Sprint two: Generate page layouts from basic components using storybook**

**Create new endpoints with custom filters for most fields in entities**

**Sprint three: Link pages to backend in wrapper components that dictate state**

**Link all pages in one cohesive app**

**Test backend with Mockito and JUnite where needed**

**Test front end backend integration (integration testing)**

**Sprint four, five and so on/ If there's time left:**

**Build webapp in react.js that includes admin operations like adding users, modifying users and so on**

**Create schedule page and components**

**Create DMs like an email provider**

**NB changes might be applied during development like simplification of database schema or modification of page layouts**

Всичко друго ще бъде разпределено в gitlab/github + този документ ще бъде конвертиран към .md файл който ще седи в репото 

Useful links:
* **https://imagecolorpicker.com/color-code/2596be**
* **https://oblador.github.io/react-native-vector-icons/**
